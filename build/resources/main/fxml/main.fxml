<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<VBox xmlns="http://javafx.com/javafx/17.0.2-ea" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.smartfilemanager.controller.MainController">

    <!-- ë©”ë‰´ë°” -->
    <MenuBar>
        <Menu text="íŒŒì¼">
            <MenuItem text="ðŸ“‚ í´ë” ìŠ¤ìº”" onAction="#handleScanFiles" accelerator="Ctrl+O"/>
            <MenuItem text="ðŸ“Š ì •ë¦¬í•˜ê¸°" onAction="#handleOrganizeFiles" accelerator="Ctrl+R"/>
            <SeparatorMenuItem />
            <MenuItem text="ðŸ“‹ í†µê³„ ë³´ê¸°" onAction="#handleStatistics" accelerator="F6"/>
            <MenuItem text="ðŸ“ˆ AI ë¶„ì„ ìš”ì•½" onAction="#handleShowAISummary" accelerator="F7"/>
            <SeparatorMenuItem />
            <MenuItem text="âŒ ì¢…ë£Œ" onAction="#handleExit" accelerator="Ctrl+Q"/>
        </Menu>
        <Menu text="ë„êµ¬">
            <MenuItem text="ðŸ” ì¤‘ë³µ íŒŒì¼ ì°¾ê¸°" onAction="#handleFindDuplicates"/>
            <MenuItem text="ðŸ§¹ ë¶ˆí•„ìš”í•œ íŒŒì¼ ì •ë¦¬" onAction="#handleCleanupFiles"/>
            <MenuItem fx:id="batchAIAnalysisMenuItem" text="ðŸ¤– AI ë°°ì¹˜ ë¶„ì„" onAction="#handleBatchAIAnalysis"/>
            <SeparatorMenuItem />
            <CheckMenuItem fx:id="realTimeMonitoringMenuItem" text="âš¡ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§" onAction="#handleMonitoringToggle"/>
        </Menu>
        <Menu text="ì„¤ì •">
            <MenuItem text="âš™ï¸ ì„¤ì •" onAction="#handleSettings" accelerator="F2"/>
            <MenuItem text="ðŸŽ¨ í…Œë§ˆ ë³€ê²½" onAction="#handleThemeToggle"/>
        </Menu>
        <Menu text="ë„ì›€ë§">
            <MenuItem text="ðŸ“– ì‚¬ìš©ë²•" onAction="#handleHelpTopics" accelerator="F1"/>
            <MenuItem text="â„¹ï¸ ì •ë³´" onAction="#handleAbout"/>
        </Menu>
    </MenuBar>

    <!-- ë©”ì¸ ì»¨í…ì¸  -->
    <VBox spacing="20.0" VBox.vgrow="ALWAYS">
        <padding>
            <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
        </padding>

        <!-- í—¤ë” ì„¹ì…˜ -->
        <VBox spacing="10.0" alignment="CENTER">
            <Label text="ðŸ“ðŸ“„ Smart File Manager" styleClass="main-title">
                <font>
                    <Font name="System Bold" size="24.0" />
                </font>
            </Label>
            <Label text="AI ê¸°ë°˜ ìŠ¤ë§ˆíŠ¸ íŒŒì¼ ì •ë¦¬ ë„êµ¬" styleClass="subtitle">
                <font>
                    <Font size="14.0" />
                </font>
            </Label>

            <!-- ìƒíƒœ í‘œì‹œ ì˜ì—­ -->
            <HBox spacing="15.0" alignment="CENTER">
                <Label fx:id="aiStatusIndicator" text="AI ë¹„í™œì„±" styleClass="status-indicator"/>
                <Separator orientation="VERTICAL"/>
                <Label fx:id="monitoringStatusLabel" text="ëª¨ë‹ˆí„°ë§ ëŒ€ê¸°" styleClass="status-indicator"/>
            </HBox>
        </VBox>

        <!-- ë©”ì¸ ë²„íŠ¼ ì„¹ì…˜ -->
        <HBox spacing="15.0" alignment="CENTER">
            <Button fx:id="scanButton" text="ðŸ” ìŠ¤ìº”" onAction="#handleScanFiles"
                    prefWidth="120.0" prefHeight="40.0" styleClass="scan-button">
                <font>
                    <Font name="System Bold" size="14.0" />
                </font>
            </Button>
            <Button fx:id="organizeButton" text="ðŸ“‚ ì •ë¦¬" onAction="#handleOrganizeFiles"
                    prefWidth="120.0" prefHeight="40.0" styleClass="organize-button" disable="true">
                <font>
                    <Font name="System Bold" size="14.0" />
                </font>
            </Button>
            <Button fx:id="settingsButton" text="âš™ï¸ ì„¤ì •" onAction="#handleSettings"
                    prefWidth="120.0" prefHeight="40.0" styleClass="settings-button">
                <font>
                    <Font name="System Bold" size="14.0" />
                </font>
            </Button>
        </HBox>

        <!-- AI ë° ëª¨ë‹ˆí„°ë§ ì»¨íŠ¸ë¡¤ ì˜ì—­ -->
        <HBox spacing="15.0" alignment="CENTER">
            <Button fx:id="aiAnalysisButton" text="ðŸ¤– AI ë¶„ì„" onAction="#handleBatchAIAnalysis"
                    prefWidth="120.0" prefHeight="35.0" styleClass="ai-button">
                <font>
                    <Font size="12.0" />
                </font>
            </Button>
            <Button fx:id="monitoringToggleButton" text="âš¡ ëª¨ë‹ˆí„°ë§ ì‹œìž‘" onAction="#handleMonitoringToggle"
                    prefWidth="140.0" prefHeight="35.0" styleClass="monitoring-button">
                <font>
                    <Font size="12.0" />
                </font>
            </Button>
            <Button text="ðŸ“Š í†µê³„" onAction="#handleStatistics"
                    prefWidth="100.0" prefHeight="35.0" styleClass="stats-button">
                <font>
                    <Font size="12.0" />
                </font>
            </Button>
        </HBox>

        <!-- í˜„ìž¬ ìž‘ì—… ì •ë³´ -->
        <VBox spacing="5.0">
            <HBox spacing="10.0" alignment="CENTER_LEFT">
                <Label text="ðŸ“‹ íŒŒì¼ ëª©ë¡" styleClass="section-title">
                    <font>
                        <Font name="System Bold" size="16.0" />
                    </font>
                </Label>
                <Label fx:id="statsLabel" text="0 files" styleClass="stats-label">
                    <font>
                        <Font size="12.0" />
                    </font>
                </Label>
                <Region HBox.hgrow="ALWAYS"/>
                <Label fx:id="currentFileLabel" text="" styleClass="current-file-label">
                    <font>
                        <Font size="11.0" />
                    </font>
                </Label>
            </HBox>

            <!-- ëª¨ë‹ˆí„°ë§ í´ë” ì •ë³´ -->
            <HBox spacing="10.0" alignment="CENTER_LEFT" fx:id="monitoringInfoBox" visible="false" managed="false">
                <Label text="ðŸ“ ëª¨ë‹ˆí„°ë§ í´ë”:"/>
                <Label fx:id="monitoringFolderLabel" text="" styleClass="folder-path-label">
                    <font>
                        <Font size="11.0" />
                    </font>
                </Label>
            </HBox>
        </VBox>

        <!-- íŒŒì¼ í…Œì´ë¸” -->
        <TableView fx:id="fileTable" prefHeight="300.0" VBox.vgrow="ALWAYS">
            <columns>
                <TableColumn fx:id="nameColumn" text="ðŸ“„ íŒŒì¼ëª…" prefWidth="280.0" minWidth="200.0"/>
                <TableColumn fx:id="categoryColumn" text="ðŸ“‚ ì¹´í…Œê³ ë¦¬" prefWidth="140.0" minWidth="100.0"/>
                <TableColumn fx:id="sizeColumn" text="ðŸ“ í¬ê¸°" prefWidth="90.0" minWidth="80.0"/>
                <TableColumn fx:id="statusColumn" text="ðŸ“Š ìƒíƒœ" prefWidth="110.0" minWidth="100.0"/>
                <TableColumn fx:id="confidenceColumn" text="ðŸ¤– ì‹ ë¢°ë„" prefWidth="90.0" minWidth="80.0"/>
                <TableColumn fx:id="dateColumn" text="ðŸ“… ìˆ˜ì •ì¼" prefWidth="130.0" minWidth="120.0"/>
            </columns>
            <placeholder>
                <Label text="ì•„ì§ ìŠ¤ìº”ëœ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.&#10;&#10;'ìŠ¤ìº”' ë²„íŠ¼ì„ í´ë¦­í•´ì„œ í´ë”ë¥¼ ë¶„ì„í•˜ì„¸ìš”."
                       style="-fx-text-fill: #6c757d; -fx-font-size: 14px;"/>
            </placeholder>
        </TableView>

        <!-- í•˜ë‹¨ ì •ë³´ ë° ì§„í–‰ë¥  ì˜ì—­ -->
        <VBox spacing="10.0">

            <!-- ì§„í–‰ë¥  ë°” -->
            <VBox spacing="5.0">
                <HBox spacing="10.0" alignment="CENTER_LEFT">
                    <Label fx:id="statusLabel" text="ì¤€ë¹„ë¨" styleClass="status-label">
                        <font>
                            <Font name="System Bold" size="12.0" />
                        </font>
                    </Label>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label fx:id="progressLabel" text="" styleClass="progress-label">
                        <font>
                            <Font size="11.0" />
                        </font>
                    </Label>
                </HBox>
                <ProgressBar fx:id="progressBar" prefWidth="Infinity" prefHeight="8.0" progress="0.0"/>
            </VBox>

            <!-- í†µê³„ ì •ë³´ -->
            <HBox spacing="20.0" alignment="CENTER_LEFT">
                <Label fx:id="statisticsLabel" text="ë¶„ì„ëœ íŒŒì¼: 0ê°œ | ì •ë¦¬ëœ íŒŒì¼: 0ê°œ | ì´ í¬ê¸°: 0 B"
                       styleClass="statistics-label">
                    <font>
                        <Font size="11.0" />
                    </font>
                </Label>
                <Region HBox.hgrow="ALWAYS"/>
                <Label text="Smart File Manager v1.0" styleClass="version-label">
                    <font>
                        <Font size="10.0" />
                    </font>
                </Label>
            </HBox>
        </VBox>

        <!-- íŒŒì¼ ìƒì„¸ ì •ë³´ íŒ¨ë„ (ì ‘ì„ ìˆ˜ ìžˆëŠ”) -->
        <TitledPane fx:id="detailTitledPane" text="ðŸ“‹ íŒŒì¼ ìƒì„¸ ì •ë³´" expanded="false" animated="true">
            <VBox fx:id="fileDetailPanel" spacing="5.0">
                <padding>
                    <Insets top="10.0" bottom="10.0" left="10.0" right="10.0"/>
                </padding>
                <Label fx:id="detailContent" text="íŒŒì¼ì„ ì„ íƒí•˜ë©´ ìƒì„¸ ì •ë³´ê°€ í‘œì‹œë©ë‹ˆë‹¤."
                       wrapText="true" styleClass="detail-content">
                    <font>
                        <Font size="12.0" />
                    </font>
                </Label>
            </VBox>
        </TitledPane>
    </VBox>
</VBox>