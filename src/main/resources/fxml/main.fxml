<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.smartfilemanager.controller.MainController">

    <!-- ìƒë‹¨: ë©”ë‰´ë°” -->
    <top>
        <MenuBar>
            <menus>
                <!-- íŒŒì¼ ë©”ë‰´ -->
                <Menu text="ðŸ“ íŒŒì¼">
                    <items>
                        <MenuItem fx:id="openFolderMenuItem" text="ðŸ“‚ í´ë” ì—´ê¸°..." onAction="#handleOpenFolder" />
                        <SeparatorMenuItem />
                        <MenuItem fx:id="settingsMenuItem" text="âš™ï¸ ì„¤ì •" onAction="#handleOpenSettings" />
                        <SeparatorMenuItem />
                        <MenuItem fx:id="exitMenuItem" text="ðŸšª ì¢…ë£Œ" onAction="#handleExit" />
                    </items>
                </Menu>

                <!-- ë„êµ¬ ë©”ë‰´ -->
                <Menu text="ðŸ”§ ë„êµ¬">
                    <items>
                        <MenuItem fx:id="scanMenuItem" text="ðŸ” íŒŒì¼ ìŠ¤ìº”" onAction="#handleScanFiles" />
                        <MenuItem fx:id="organizeMenuItem" text="ðŸ“¦ íŒŒì¼ ì •ë¦¬" onAction="#handleOrganizeFiles" />
                        <MenuItem fx:id="undoMenuItem" text="â†©ï¸ ì •ë¦¬ ë˜ëŒë¦¬ê¸°" onAction="#handleUndoOrganization" />
                        <SeparatorMenuItem />
                        <MenuItem fx:id="duplicatesMenuItem" text="ðŸ”„ ì¤‘ë³µ íŒŒì¼ ì°¾ê¸°" onAction="#handleFindDuplicates" />
                        <MenuItem fx:id="cleanupMenuItem" text="ðŸ§¹ ë¶ˆí•„ìš”í•œ íŒŒì¼ ì •ë¦¬" onAction="#handleCleanupFiles" />
                    </items>
                </Menu>

                <!-- ë„ì›€ë§ ë©”ë‰´ -->
                <Menu text="â“ ë„ì›€ë§">
                    <items>
                        <MenuItem fx:id="helpTopicsMenuItem" text="ðŸ“– ë„ì›€ë§" onAction="#handleHelpTopics" />
                        <SeparatorMenuItem />
                        <MenuItem fx:id="aboutMenuItem" text="â„¹ï¸ ì •ë³´" onAction="#handleAbout" />
                    </items>
                </Menu>
            </menus>
        </MenuBar>
    </top>

    <!-- ì¤‘ì•™: ë©”ì¸ ì»¨í…ì¸  -->
    <center>
        <VBox spacing="20.0" style="-fx-background-color: #f8f9fa;">
            <padding>
                <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
            </padding>

            <!-- ì œëª© ì„¹ì…˜ -->
            <VBox alignment="CENTER" spacing="10.0">
                <children>
                    <Label text="ðŸ—‚ï¸ Smart File Manager" styleClass="title-label">
                        <font>
                            <Font name="System Bold" size="28.0" />
                        </font>
                    </Label>
                    <Label text="AI ê¸°ë°˜ ìŠ¤ë§ˆíŠ¸ íŒŒì¼ ì •ë¦¬ ë„êµ¬" styleClass="subtitle-label">
                        <font>
                            <Font size="16.0" />
                        </font>
                    </Label>
                </children>
            </VBox>

            <!-- ë²„íŠ¼ ì„¹ì…˜ -->
            <HBox alignment="CENTER" spacing="15.0">
                <padding>
                    <Insets bottom="20.0" top="20.0" />
                </padding>
                <children>
                    <Button fx:id="scanButton" text="ðŸ” ìŠ¤ìº”" onAction="#handleScanFiles" prefWidth="120.0" prefHeight="40.0" styleClass="scan-button">
                        <font>
                            <Font name="System Bold" size="14.0" />
                        </font>
                    </Button>
                    <Button fx:id="organizeButton" text="ðŸ“¦ ì •ë¦¬" onAction="#handleOrganizeFiles" prefWidth="120.0" prefHeight="40.0" styleClass="organize-button" disable="true">
                        <font>
                            <Font name="System Bold" size="14.0" />
                        </font>
                    </Button>
                    <Button fx:id="settingsButton" text="âš™ï¸ ì„¤ì •" onAction="#handleOpenSettings" prefWidth="120.0" prefHeight="40.0" styleClass="settings-button">
                        <font>
                            <Font name="System Bold" size="14.0" />
                        </font>
                    </Button>
                </children>
            </HBox>

            <!-- íŒŒì¼ í…Œì´ë¸” ì„¹ì…˜ -->
            <VBox spacing="10.0" VBox.vgrow="ALWAYS">
                <children>
                    <!-- í…Œì´ë¸” í—¤ë” -->
                    <HBox alignment="CENTER_LEFT" spacing="20.0">
                        <children>
                            <Label text="ðŸ“‹ íŒŒì¼ ëª©ë¡" styleClass="section-title">
                                <font>
                                    <Font name="System Bold" size="16.0" />
                                </font>
                            </Label>
                            <Label fx:id="statsLabel" text="0 files" styleClass="stats-label">
                                <font>
                                    <Font size="12.0" />
                                </font>
                            </Label>
                        </children>
                    </HBox>

                    <!-- íŒŒì¼ í…Œì´ë¸” -->
                    <TableView fx:id="fileTable" prefHeight="300.0" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="nameColumn" text="ðŸ“„ íŒŒì¼ëª…" prefWidth="250.0" />
                            <TableColumn fx:id="categoryColumn" text="ðŸ“‚ ì¹´í…Œê³ ë¦¬" prefWidth="150.0" />
                            <TableColumn fx:id="sizeColumn" text="ðŸ“ í¬ê¸°" prefWidth="100.0" />
                            <TableColumn fx:id="statusColumn" text="ðŸ“Š ìƒíƒœ" prefWidth="120.0" />
                            <TableColumn fx:id="dateColumn" text="ðŸ“… ìˆ˜ì •ì¼" prefWidth="140.0" />
                        </columns>
                        <placeholder>
                            <Label text="ì•„ì§ ìŠ¤ìº”ëœ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.&#10;&#10;'ìŠ¤ìº”' ë²„íŠ¼ì„ í´ë¦­í•´ì„œ í´ë”ë¥¼ ë¶„ì„í•˜ì„¸ìš”." style="-fx-text-fill: #6c757d; -fx-text-alignment: center;" />
                        </placeholder>
                    </TableView>

                    <!-- íŒŒì¼ ìƒì„¸ ì •ë³´ íŒ¨ë„ -->
                    <VBox fx:id="fileDetailPanel" spacing="5.0" style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-width: 1px;" maxHeight="100.0" visible="false" managed="false">
                        <padding>
                            <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                        </padding>
                        <children>
                            <Label text="ðŸ“„ íŒŒì¼ ìƒì„¸ ì •ë³´" styleClass="detail-title">
                                <font>
                                    <Font name="System Bold" size="12.0" />
                                </font>
                            </Label>
                            <Label fx:id="detailContent" text="íŒŒì¼ì„ ì„ íƒí•˜ë©´ ìƒì„¸ ì •ë³´ê°€ í‘œì‹œë©ë‹ˆë‹¤" styleClass="detail-content" wrapText="true">
                                <font>
                                    <Font size="11.0" />
                                </font>
                            </Label>
                        </children>
                    </VBox>
                </children>
            </VBox>
        </VBox>
    </center>

    <!-- í•˜ë‹¨: ìƒíƒœë°” -->
    <bottom>
        <VBox spacing="5.0" style="-fx-background-color: #e9ecef; -fx-border-color: #dee2e6; -fx-border-width: 1px 0 0 0;">
            <padding>
                <Insets bottom="10.0" left="15.0" right="15.0" top="10.0" />
            </padding>
            <children>
                <!-- ìƒíƒœ ì •ë³´ -->
                <HBox alignment="CENTER_LEFT" spacing="15.0">
                    <children>
                        <Label fx:id="statusLabel" text="âœ… ì• í”Œë¦¬ì¼€ì´ì…˜ ì¤€ë¹„ë¨" styleClass="status-ready" prefWidth="300.0" maxWidth="300.0">
                            <font>
                                <Font name="System Bold" size="14.0" />
                            </font>
                        </Label>
                        <ProgressBar fx:id="progressBar" prefWidth="200.0" prefHeight="20.0" visible="false" />
                        <Label fx:id="progressLabel" text="" styleClass="progress-label" visible="false">
                            <font>
                                <Font size="12.0" />
                            </font>
                        </Label>
                    </children>
                </HBox>

                <!-- ì¶”ê°€ í†µê³„ ì •ë³´ -->
                <HBox alignment="CENTER_LEFT" spacing="15.0">
                    <children>
                        <Label fx:id="statisticsLabel" text="ë¶„ì„ëœ íŒŒì¼: 0ê°œ | ì •ë¦¬ëœ íŒŒì¼: 0ê°œ | ì ˆì•½ëœ ê³µê°„: 0 B" styleClass="statistics-label">
                            <font>
                                <Font size="11.0" />
                            </font>
                        </Label>
                    </children>
                </HBox>
            </children>
        </VBox>
    </bottom>
</BorderPane>